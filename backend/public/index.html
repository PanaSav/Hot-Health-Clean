<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Hot Health â€” One Port</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link rel="stylesheet" href="/styles.css"/>
</head>
<body>
  <header class="head">
    <h1>Hot Health â€” One Port</h1>
    <nav>
      <a class="btn" href="/reports">Open Reports</a>
      <form method="POST" action="/logout" style="display:inline">
        <button class="btn" type="submit">Log out</button>
      </form>
    </nav>
  </header>

  <main class="container">

    <!-- How to use -->
    <section class="card">
      <h2>How to Use This App</h2>
      <p>Type your information in each area, or tap the <span class="micmini">ğŸ¤</span> mic to fill fields by voice.
         Alternatively, you can speak freely in the â€œPatient Health Statusâ€ section below using six short recorders.
         Choose your working/target languages first. When finished, press <b>Generate Report</b> in the REPORTING section.</p>
    </section>

    <!-- Language block -->
    <section class="card">
      <h2>Language</h2>
      <div class="grid2">
        <div>
          <label>Detected language (suggestion)</label>
          <div class="row">
            <input id="langDetected" class="w100" placeholder="(auto-detected)" readonly />
            <button id="btnDetect" class="btn" type="button">Detect</button>
          </div>
          <div id="detectHint" class="muted small">We think you're speaking <span id="detectName">â€”</span>. Tap Detect to refresh.</div>
        </div>
        <div>
          <label>Translate to</label>
          <div class="row">
            <select id="lang" class="w100">
              <option value="">â€” No translation â€”</option>
              <option value="en">English</option><option value="fr">FranÃ§ais</option><option value="es">EspaÃ±ol</option>
              <option value="pt">PortuguÃªs</option><option value="de">Deutsch</option><option value="it">Italiano</option>
              <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option><option value="hi">à¤¹à¤¿à¤¨à¥à¤¦à¥€</option><option value="zh">ä¸­æ–‡</option>
              <option value="ja">æ—¥æœ¬èª</option><option value="ko">í•œêµ­ì–´</option>
              <option value="he">×¢×‘×¨×™×ª</option><option value="sr">Srpski</option><option value="pa">à¨ªà©°à¨œà¨¾à¨¬à©€</option>
            </select>
            <button class="mic-btn" data-target="lang" title="Speak target language">ğŸ¤</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Patient & options -->
    <section class="card">
      <h2>Patient & Options</h2>
      <div class="grid2">
        <div>
          <label>Patient Name</label>
          <div class="row">
            <input id="pName" placeholder="Full name" class="w100"/>
            <button class="mic-btn" data-target="pName" title="Speak name">ğŸ¤</button>
          </div>
        </div>
        <div>
          <label>Patient Email</label>
          <div class="row">
            <input id="pEmail" placeholder="name@example.com" class="w100" inputmode="email"/>
            <button class="mic-btn" data-target="pEmail" title="Speak email">ğŸ¤</button>
          </div>
        </div>

        <div>
          <label>Emergency Name</label>
          <div class="row">
            <input id="eName" placeholder="Contact name" class="w100"/>
            <button class="mic-btn" data-target="eName" title="Speak emergency name">ğŸ¤</button>
          </div>
        </div>
        <div>
          <label>Emergency Phone</label>
          <div class="row">
            <input id="ePhone" placeholder="+1 555 123 4567" class="w100" inputmode="tel"/>
            <button class="mic-btn" data-target="ePhone" title="Speak phone">ğŸ¤</button>
          </div>
        </div>
        <div>
          <label>Emergency Email</label>
          <div class="row">
            <input id="eEmail" placeholder="ec@example.com" class="w100" inputmode="email"/>
            <button class="mic-btn" data-target="eEmail" title="Speak email">ğŸ¤</button>
          </div>
        </div>

        <div>
          <label>Blood Type (optional)</label>
          <div class="row">
            <select id="blood" class="w100">
              <option value="">â€”</option>
              <option>O+</option><option>O-</option><option>A+</option><option>A-</option>
              <option>B+</option><option>B-</option><option>AB+</option><option>AB-</option>
            </select>
            <button class="mic-btn" data-target="blood" title="Speak blood type">ğŸ¤</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Doctor -->
    <section class="card">
      <h2>Doctor</h2>
      <div class="grid2">
        <div>
          <label>Doctor Name</label>
          <div class="row"><input id="doctor_name" class="w100"/><button class="mic-btn" data-target="doctor_name">ğŸ¤</button></div>
        </div>
        <div>
          <label>Doctor Address</label>
          <div class="row"><input id="doctor_address" class="w100"/><button class="mic-btn" data-target="doctor_address">ğŸ¤</button></div>
        </div>
        <div>
          <label>Doctor Phone</label>
          <div class="row"><input id="doctor_phone" class="w100" inputmode="tel"/><button class="mic-btn" data-target="doctor_phone">ğŸ¤</button></div>
        </div>
        <div>
          <label>Doctor Fax</label>
          <div class="row"><input id="doctor_fax" class="w100" inputmode="tel"/><button class="mic-btn" data-target="doctor_fax">ğŸ¤</button></div>
        </div>
        <div>
          <label>Doctor Email</label>
          <div class="row"><input id="doctor_email" class="w100" inputmode="email"/><button class="mic-btn" data-target="doctor_email">ğŸ¤</button></div>
        </div>
      </div>
    </section>

    <!-- Pharmacy -->
    <section class="card">
      <h2>Pharmacy</h2>
      <div class="grid2">
        <div>
          <label>Pharmacy Name</label>
          <div class="row"><input id="pharmacy_name" class="w100"/><button class="mic-btn" data-target="pharmacy_name">ğŸ¤</button></div>
        </div>
        <div>
          <label>Pharmacy Address</label>
          <div class="row"><input id="pharmacy_address" class="w100"/><button class="mic-btn" data-target="pharmacy_address">ğŸ¤</button></div>
        </div>
        <div>
          <label>Pharmacy Phone</label>
          <div class="row"><input id="pharmacy_phone" class="w100" inputmode="tel"/><button class="mic-btn" data-target="pharmacy_phone">ğŸ¤</button></div>
        </div>
        <div>
          <label>Pharmacy Fax</label>
          <div class="row"><input id="pharmacy_fax" class="w100" inputmode="tel"/><button class="mic-btn" data-target="pharmacy_fax">ğŸ¤</button></div>
        </div>
      </div>
    </section>

    <!-- Alternative: Patient Health Status - Free Speech Recording -->
    <section class="card">
      <h2>Patient Health Status â€” Free Speech Recording</h2>
      <div class="miniwrap">
        <div class="mini">
          <div class="minilabel">Blood Pressure (auto-stop 20s)</div>
          <div class="row">
            <input id="typed_bp" placeholder="e.g., 120 over 75" class="w100"/>
            <button class="mic-btn" data-target="typed_bp" title="Speak BP">ğŸ¤</button>
          </div>
          <div class="row">
            <button class="btn rec" data-key="bp">ğŸ¤ Record</button>
            <span class="muted small" id="meta_bp"></span>
          </div>
        </div>

        <div class="mini">
          <div class="minilabel">Medications & Dose (auto-stop 180s)</div>
          <div class="row">
            <input id="typed_meds" placeholder="e.g., Lisinopril 10 mg" class="w100"/>
            <button class="mic-btn" data-target="typed_meds">ğŸ¤</button>
          </div>
          <div class="row">
            <button class="btn rec" data-key="meds">ğŸ¤ Record</button>
            <span class="muted small" id="meta_meds"></span>
          </div>
        </div>

        <div class="mini">
          <div class="minilabel">Allergies (auto-stop 60s)</div>
          <div class="row">
            <input id="typed_allergies" placeholder="e.g., penicillin, peanuts" class="w100"/>
            <button class="mic-btn" data-target="typed_allergies">ğŸ¤</button>
          </div>
          <div class="row">
            <button class="btn rec" data-key="allergies">ğŸ¤ Record</button>
            <span class="muted small" id="meta_allergies"></span>
          </div>
        </div>

        <div class="mini">
          <div class="minilabel">Weight (auto-stop 60s)</div>
          <div class="row">
            <input id="typed_weight" placeholder="e.g., 215 pounds" class="w100"/>
            <button class="mic-btn" data-target="typed_weight">ğŸ¤</button>
          </div>
          <div class="row">
            <button class="btn rec" data-key="weight">ğŸ¤ Record</button>
            <span class="muted small" id="meta_weight"></span>
          </div>
        </div>

        <div class="mini">
          <div class="minilabel">Conditions (auto-stop 180s)</div>
          <div class="row">
            <input id="typed_conditions" placeholder="e.g., kidney condition" class="w100"/>
            <button class="mic-btn" data-target="typed_conditions">ğŸ¤</button>
          </div>
          <div class="row">
            <button class="btn rec" data-key="conditions">ğŸ¤ Record</button>
            <span class="muted small" id="meta_conditions"></span>
          </div>
        </div>

        <div class="mini">
          <div class="minilabel">General Health Note (auto-stop 180s)</div>
          <div class="row">
            <input id="typed_general" placeholder="Anything else importantâ€¦" class="w100"/>
            <button class="mic-btn" data-target="typed_general">ğŸ¤</button>
          </div>
          <div class="row">
            <button class="btn rec" data-key="general">ğŸ¤ Record</button>
            <span class="muted small" id="meta_general"></span>
          </div>
        </div>
      </div>
    </section>

    <!-- REPORTING -->
    <section class="card">
      <h2>REPORTING</h2>
      <div class="row">
        <button id="btnGenerate" class="btn">Generate Report</button>
      </div>
      <div id="result"></div>
      <div id="error" class="error"></div>
    </section>

  </main>

  <script src="/app.js"></script>
</body>
</html>
