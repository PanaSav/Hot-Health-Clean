<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Caregiver Card</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link rel="stylesheet" href="/styles.css"/>
</head>
<body>
<div class="container">

  <header class="head">
    <h1>Caregiver Card</h1>
    <div class="muted">Type into fields or tap the 🎙️ mic to dictate. Use the classic recorder to speak freely.</div>
    <div class="pillrow">
      <a class="btn" href="/reports">📂 Open Reports</a>
      <form method="POST" action="/logout" style="display:inline"><button class="btn" type="submit">🚪 Log out</button></form>
    </div>
  </header>

  <!-- Language block -->
  <section class="card">
    <h2>Language</h2>
    <div class="tip">We’ll detect your language if you speak in any mic. You can also pick a target language.</div>
    <div class="row">
      <div>
        <label>Detected Language</label>
        <input id="langDetected" placeholder="(auto)" readonly />
      </div>
      <div>
        <label>Translate To</label>
        <div class="field">
          <select id="lang">
            <option value="">— No translation —</option>
            <option value="en">English</option><option value="fr">Français</option>
            <option value="es">Español</option><option value="pt">Português</option>
            <option value="de">Deutsch</option><option value="it">Italiano</option>
            <option value="ar">العربية</option><option value="hi">हिन्दी</option>
            <option value="zh">中文</option><option value="ja">日本語</option>
            <option value="ko">한국어</option><option value="he">עברית</option>
            <option value="sr">Srpski</option><option value="pa">ਪੰਜਾਬੀ</option>
          </select>
          <button class="mic-btn" type="button" data-target="lang" title="Dictate target language">🎙️</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Patient & Contact's Info -->
  <section class="card">
    <h2>Patient & Contact’s Info</h2>
    <div class="row">
      <div>
        <label>Patient Name</label>
        <div class="field">
          <input id="pName" placeholder="Full Name"/>
          <button class="mic-btn" type="button" data-target="pName" title="Dictate name">🎙️</button>
        </div>
      </div>
      <div>
        <label>Patient Email</label>
        <div class="field">
          <input id="pEmail" type="email" placeholder="name@example.com"/>
          <button class="mic-btn" type="button" data-target="pEmail" title="Dictate email">🎙️</button>
        </div>
      </div>
    </div>

    <div class="row">
      <div>
        <label>Emergency Contact — Name</label>
        <div class="field">
          <input id="eName" placeholder="Full Name"/>
          <button class="mic-btn" type="button" data-target="eName" title="Dictate emergency name">🎙️</button>
        </div>
      </div>
      <div>
        <label>Emergency Contact — Phone</label>
        <div class="field">
          <input id="ePhone" placeholder="+1-555-123-4567"/>
          <button class="mic-btn" type="button" data-target="ePhone" title="Dictate emergency phone">🎙️</button>
        </div>
      </div>
      <div>
        <label>Emergency Contact — Email</label>
        <div class="field">
          <input id="eEmail" type="email" placeholder="ec@example.com"/>
          <button class="mic-btn" type="button" data-target="eEmail" title="Dictate emergency email">🎙️</button>
        </div>
      </div>
    </div>

    <div class="row">
      <div>
        <label>Blood Type (optional)</label>
        <div class="field">
          <select id="blood">
            <option value="">— select —</option>
            <option>O+</option><option>O-</option><option>A+</option><option>A-</option>
            <option>B+</option><option>B-</option><option>AB+</option><option>AB-</option>
          </select>
          <button class="mic-btn" type="button" data-target="blood" title="Dictate blood type">🎙️</button>
        </div>
      </div>
    </div>

    <!-- Doctor -->
    <h3 style="margin:10px 0 6px">Doctor</h3>
    <div class="row">
      <div>
        <label>Name</label>
        <div class="field">
          <input id="doctor_name" placeholder="Doctor Name"/>
          <button class="mic-btn" type="button" data-target="doctor_name">🎙️</button>
        </div>
      </div>
      <div>
        <label>Phone</label>
        <div class="field">
          <input id="doctor_phone" placeholder="+1-555-123-0000"/>
          <button class="mic-btn" type="button" data-target="doctor_phone">🎙️</button>
        </div>
      </div>
      <div>
        <label>Fax</label>
        <div class="field">
          <input id="doctor_fax" placeholder="+1-555-123-0001"/>
          <button class="mic-btn" type="button" data-target="doctor_fax">🎙️</button>
        </div>
      </div>
    </div>
    <div class="row">
      <div>
        <label>Email</label>
        <div class="field">
          <input id="doctor_email" type="email" placeholder="dr@example.com"/>
          <button class="mic-btn" type="button" data-target="doctor_email">🎙️</button>
        </div>
      </div>
      <div style="flex:2">
        <label>Address</label>
        <div class="field">
          <input id="doctor_address" placeholder="Street, City, State, ZIP"/>
          <button class="mic-btn" type="button" data-target="doctor_address">🎙️</button>
        </div>
      </div>
    </div>

    <!-- Pharmacy -->
    <h3 style="margin:10px 0 6px">Pharmacy</h3>
    <div class="row">
      <div>
        <label>Name</label>
        <div class="field">
          <input id="pharmacy_name" placeholder="Pharmacy Name"/>
          <button class="mic-btn" type="button" data-target="pharmacy_name">🎙️</button>
        </div>
      </div>
      <div>
        <label>Phone</label>
        <div class="field">
          <input id="pharmacy_phone" placeholder="+1-555-987-1234"/>
          <button class="mic-btn" type="button" data-target="pharmacy_phone">🎙️</button>
        </div>
      </div>
      <div>
        <label>Fax</label>
        <div class="field">
          <input id="pharmacy_fax" placeholder="+1-555-987-1235"/>
          <button class="mic-btn" type="button" data-target="pharmacy_fax">🎙️</button>
        </div>
      </div>
    </div>
    <div class="row">
      <div style="flex:2">
        <label>Address</label>
        <div class="field">
          <input id="pharmacy_address" placeholder="Street, City, State, ZIP"/>
          <button class="mic-btn" type="button" data-target="pharmacy_address">🎙️</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Patient Health Status (typed + mini recorders) -->
  <section class="card">
    <h2>Patient Health Status</h2>
    <div class="tip">Fill each field or tap the mic to dictate. Or use the classic free-speech recorder below.</div>

    <div class="row">
      <div>
        <label>Blood Pressure</label>
        <div class="field">
          <input id="typed_bp" placeholder="e.g., 120/75"/>
          <button class="mic-btn" type="button" data-target="typed_bp">🎙️</button>
        </div>
        <button class="rec-btn" id="rec_bp">Start</button>
        <div class="rec-meta" id="meta_bp"></div>
      </div>

      <div>
        <label>Medications & Dose</label>
        <div class="field">
          <input id="typed_meds" placeholder="e.g., Dexilant 60 mg; Candesartan 16 mg"/>
          <button class="mic-btn" type="button" data-target="typed_meds">🎙️</button>
        </div>
        <button class="rec-btn" id="rec_meds">Start</button>
        <div class="rec-meta" id="meta_meds"></div>
      </div>
    </div>

    <div class="row">
      <div>
        <label>Allergies</label>
        <div class="field">
          <input id="typed_allergies" placeholder="e.g., mold; dust"/>
          <button class="mic-btn" type="button" data-target="typed_allergies">🎙️</button>
        </div>
        <button class="rec-btn" id="rec_allergies">Start</button>
        <div class="rec-meta" id="meta_allergies"></div>
      </div>

      <div>
        <label>Weight</label>
        <div class="field">
          <input id="typed_weight" placeholder="e.g., 215 lbs or 98 kg"/>
          <button class="mic-btn" type="button" data-target="typed_weight">🎙️</button>
        </div>
        <button class="rec-btn" id="rec_weight">Start</button>
        <div class="rec-meta" id="meta_weight"></div>
      </div>
    </div>

    <div class="row">
      <div>
        <label>Conditions</label>
        <div class="field">
          <input id="typed_conditions" placeholder="e.g., kidney disease"/>
          <button class="mic-btn" type="button" data-target="typed_conditions">🎙️</button>
        </div>
        <button class="rec-btn" id="rec_conditions">Start</button>
        <div class="rec-meta" id="meta_conditions"></div>
      </div>

      <div>
        <label>General Health Note (journal)</label>
        <div class="field">
          <textarea id="typed_general" placeholder="Free text for journal or extra notes"></textarea>
          <button class="mic-btn" type="button" data-target="typed_general">🎙️</button>
        </div>
        <button class="rec-btn" id="rec_general">Start</button>
        <div class="rec-meta" id="meta_general"></div>
      </div>
    </div>
  </section>

  <!-- Alternative Classic Free-Speech -->
  <section class="card">
    <h2>Alternative: Patient Health Status — Free Speech Recording</h2>
    <div class="tip">Press Start and speak freely (meds, allergies, BP, weight, conditions). Auto-stop at 60s.</div>
    <button class="rec-btn" id="rec_classic">Start</button>
    <div class="rec-meta" id="meta_classic"></div>
  </section>

  <!-- Reporting -->
  <section class="card">
    <h2>Reporting</h2>
    <div class="row">
      <button class="btn primary" id="btnGenerate">Generate Report</button>
      <div id="result" style="flex:1"></div>
    </div>
    <div id="error" class="error"></div>
  </section>

</div>
<script src="/app.js"></script>
</body>
</html>
