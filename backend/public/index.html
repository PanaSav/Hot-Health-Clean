<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Caregiver Card</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
<header class="head wrap">
  <h1>Caregiver Card</h1>
  <nav class="bar">
    <a class="btn" href="/reports" rel="noopener">Open Reports</a>
    <form method="POST" action="/logout" style="display:inline"><button class="btn" type="submit">Log out</button></form>
  </nav>
</header>

<main class="wrap">
  <!-- How To Use -->
  <section class="card">
    <h2>How to Use</h2>
    <ul class="tips">
      <li>Type into each field or tap the <span class="mic">ğŸ™ï¸</span> mic to speak just that item (e.g., say only your name).</li>
      <li>Alternatively, use the â€œFree Speech Recordingâ€ blocks to speak freely; weâ€™ll parse it into the fields.</li>
      <li>Pick a â€œTranslate toâ€ language if you want the report translated.</li>
      <li>When finished, scroll down to <b>REPORTING</b> and press <b>Generate Report</b>.</li>
    </ul>
  </section>

  <!-- Language -->
  <section class="card">
    <h2>Language</h2>
    <div class="grid2">
      <div>
        <label>Working language (detected)</label>
        <div class="input-with-ctl">
          <input id="langDetected" placeholder="Tap Confirm after speakingâ€¦" readonly>
          <button type="button" class="btn sm" id="btnLangSpeak" title="Speak a sample">ğŸ™ï¸</button>
          <button type="button" class="btn sm" id="btnLangConfirm" title="Confirm detected">âœ… Confirm</button>
        </div>
        <div class="muted" id="langGuessMsg"></div>
      </div>
      <div>
        <label>Translate to</label>
        <select id="lang">
          <option value="">â€” No translation â€”</option>
          <option value="en">English</option><option value="fr">FranÃ§ais</option><option value="es">EspaÃ±ol</option>
          <option value="pt">PortuguÃªs</option><option value="de">Deutsch</option><option value="it">Italiano</option>
          <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option><option value="hi">à¤¹à¤¿à¤¨à¥à¤¦à¥€</option><option value="zh">ä¸­æ–‡</option>
          <option value="ja">æ—¥æœ¬èª</option><option value="ko">í•œêµ­ì–´</option>
          <option value="he">×¢×‘×¨×™×ª</option><option value="sr">Srpski</option><option value="pa">à¨ªà©°à¨œà¨¾à¨¬à©€</option>
        </select>
      </div>
    </div>
  </section>

  <!-- Patient & Contact's Info -->
  <section class="card">
    <h2>Patient & Contactâ€™s Info</h2>
    <div class="grid2">
      <div class="field">
        <label>Patient Name <span class="hint">Tip: say â€œJohn Doeâ€</span></label>
        <div class="input-with-ctl">
          <input id="pName" autocomplete="name">
          <button class="mic-btn" data-target="pName" title="Speak name">ğŸ™ï¸</button>
        </div>
      </div>
      <div class="field">
        <label>Patient Email <span class="hint">Tip: â€œjohn dot doe at gmail dot comâ€</span></label>
        <div class="input-with-ctl">
          <input id="pEmail" type="email" autocomplete="email">
          <button class="mic-btn" data-target="pEmail" title="Speak email">ğŸ™ï¸</button>
        </div>
      </div>
      <div class="field">
        <label>Blood Type</label>
        <div class="input-with-ctl">
          <select id="blood">
            <option value="">â€” Select â€”</option>
            <option>O+</option><option>O-</option><option>A+</option><option>A-</option>
            <option>B+</option><option>B-</option><option>AB+</option><option>AB-</option>
          </select>
          <button class="mic-btn" data-target="blood" title="Speak type (e.g., O negative)">ğŸ™ï¸</button>
        </div>
      </div>
      <div class="field">
        <label>Emergency Contact Name</label>
        <div class="input-with-ctl">
          <input id="eName" autocomplete="name">
          <button class="mic-btn" data-target="eName" title="Speak emergency contact name">ğŸ™ï¸</button>
        </div>
      </div>
      <div class="field">
        <label>Emergency Contact Phone</label>
        <div class="input-with-ctl">
          <input id="ePhone" autocomplete="tel">
          <button class="mic-btn" data-target="ePhone" title="Speak phone">ğŸ™ï¸</button>
        </div>
      </div>
      <div class="field">
        <label>Emergency Contact Email</label>
        <div class="input-with-ctl">
          <input id="eEmail" type="email">
          <button class="mic-btn" data-target="eEmail" title="Speak email">ğŸ™ï¸</button>
        </div>
      </div>
    </div>

    <h3 class="subhead">Doctor</h3>
    <div class="grid2">
      <div class="field">
        <label>Doctor Name</label>
        <div class="input-with-ctl">
          <input id="doctor_name">
          <button class="mic-btn" data-target="doctor_name">ğŸ™ï¸</button>
        </div>
      </div>
      <div class="field">
        <label>Doctor Address</label>
        <div class="input-with-ctl">
          <input id="doctor_address">
          <button class="mic-btn" data-target="doctor_address">ğŸ™ï¸</button>
        </div>
      </div>
      <div class="field">
        <label>Doctor Phone</label>
        <div class="input-with-ctl">
          <input id="doctor_phone">
          <button class="mic-btn" data-target="doctor_phone">ğŸ™ï¸</button>
        </div>
      </div>
      <div class="field">
        <label>Doctor Fax</label>
        <div class="input-with-ctl">
          <input id="doctor_fax">
          <button class="mic-btn" data-target="doctor_fax">ğŸ™ï¸</button>
        </div>
      </div>
      <div class="field">
        <label>Doctor Email</label>
        <div class="input-with-ctl">
          <input id="doctor_email" type="email">
          <button class="mic-btn" data-target="doctor_email">ğŸ™ï¸</button>
        </div>
      </div>
    </div>

    <h3 class="subhead">Pharmacy</h3>
    <div class="grid2">
      <div class="field">
        <label>Pharmacy Name</label>
        <div class="input-with-ctl">
          <input id="pharmacy_name">
          <button class="mic-btn" data-target="pharmacy_name">ğŸ™ï¸</button>
        </div>
      </div>
      <div class="field">
        <label>Pharmacy Address</label>
        <div class="input-with-ctl">
          <input id="pharmacy_address">
          <button class="mic-btn" data-target="pharmacy_address">ğŸ™ï¸</button>
        </div>
      </div>
      <div class="field">
        <label>Pharmacy Phone</label>
        <div class="input-with-ctl">
          <input id="pharmacy_phone">
          <button class="mic-btn" data-target="pharmacy_phone">ğŸ™ï¸</button>
        </div>
      </div>
      <div class="field">
        <label>Pharmacy Fax</label>
        <div class="input-with-ctl">
          <input id="pharmacy_fax">
          <button class="mic-btn" data-target="pharmacy_fax">ğŸ™ï¸</button>
        </div>
      </div>
    </div>

    <div class="alt">
      <h3>Alternative: Patient & Contactâ€™s Info â€” Free Speech Recording</h3>
      <div class="row">
        <button id="btnRecPatient" class="btn">ğŸ™ï¸ Record & Parse</button>
        <div class="muted">Speak your name, email, emergency contact name/phone/email, doctor & pharmacy details clearly.</div>
      </div>
      <div id="patientParseMsg" class="muted"></div>
    </div>
  </section>

  <!-- Patient Health Status -->
  <section class="card">
    <h2>Patient Health Status</h2>
    <div class="grid1">
      <div class="field">
        <label>Blood Pressure <span class="hint">Tip: â€œ120 over 75â€</span></label>
        <div class="input-with-ctl">
          <input id="bp">
          <button class="mic-btn" data-target="bp">ğŸ™ï¸</button>
        </div>
      </div>

      <div class="field">
        <label>Medications & Dose <span class="hint">Tip: â€œDexilant 60 mg; Candesartan 16 mgâ€</span></label>
        <div class="input-with-ctl">
          <textarea id="meds" rows="2"></textarea>
          <button class="mic-btn" data-target="meds">ğŸ™ï¸</button>
        </div>
      </div>

      <div class="field">
        <label>Allergies</label>
        <div class="input-with-ctl">
          <textarea id="allergies" rows="2"></textarea>
          <button class="mic-btn" data-target="allergies">ğŸ™ï¸</button>
        </div>
      </div>

      <div class="field">
        <label>Weight</label>
        <div class="input-with-ctl">
          <input id="weight" placeholder="e.g., 215 pounds">
          <button class="mic-btn" data-target="weight">ğŸ™ï¸</button>
        </div>
      </div>

      <div class="field">
        <label>Conditions</label>
        <div class="input-with-ctl">
          <textarea id="conditions" rows="2"></textarea>
          <button class="mic-btn" data-target="conditions">ğŸ™ï¸</button>
        </div>
      </div>

      <div class="field">
        <label>General Health Note <span class="hint">Tip: journal details; weâ€™ll summarize</span></label>
        <div class="input-with-ctl">
          <textarea id="general" rows="3"></textarea>
          <button class="mic-btn" data-target="general">ğŸ™ï¸</button>
        </div>
      </div>
    </div>

    <div class="alt">
      <h3>Alternative: Patient Health Status â€” Free Speech Recording</h3>
      <div class="row">
        <button id="btnRecStatus" class="btn">ğŸ™ï¸ Record & Parse</button>
        <div class="muted">Speak meds/dose, allergies, BP, weight, conditions, general note. Weâ€™ll fill the fields.</div>
      </div>
      <div id="statusParseMsg" class="muted"></div>
    </div>
  </section>

  <!-- REPORTING -->
  <section class="card">
    <h2>REPORTING</h2>
    <div class="row">
      <button id="btnGenerate" class="btn lg">Generate Report</button>
      <div class="muted">Report will include dual blocks (original & translated) and a shareable link & QR.</div>
    </div>
    <div id="result"></div>
    <div id="error" class="error"></div>
  </section>

  <section class="card">
    <h2>Actions</h2>
    <div class="bar">
      <a class="btn" href="/reports" rel="noopener">Open Reports</a>
      <a class="btn" href="/" rel="noopener">New Report</a>
      <form method="POST" action="/logout" style="display:inline"><button class="btn" type="submit">Log out</button></form>
    </div>
  </section>
</main>

<script src="/app.js"></script>
</body>
</html>
