<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Hot Health — One Port</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link rel="stylesheet" href="/styles.css"/>
  <style>
    body { background:#f7f9ff; color:#223; }
    header { padding:16px 0; border-bottom:3px solid aquamarine; }
    h1 { color:#4b0082; margin:0; }
    .wrap { max-width: 980px; margin: 0 auto; padding: 0 16px 24px; }
    .card { background:#fff; border:2px solid aquamarine; border-radius:12px; padding:16px; margin:16px 0; }
    .row { display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    input, select { padding:10px 12px; border:1px solid #cfd8ea; border-radius:8px; font-size:15px; flex:1; min-width:180px;}
    button { padding:10px 14px; border-radius:8px; border:0; background:#0a84ff; color:#fff; font-size:15px; cursor:pointer; }
    button:hover { filter:brightness(0.96); }
    .muted { color:#666; font-size:13px; }
    .error { color:#b00020; margin-top:6px; }
    .btnbar { display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; }
    .btn-secondary { background:#f0f5ff; color:#234; border:1px solid #dbe7ff; }
    .two { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
    .mic-btn { background:#f0f5ff; color:#234; border:1px solid #dbe7ff; }
    .field { position:relative; flex:1; min-width:220px; }
    .field .mic-btn { position:absolute; right:6px; top:6px; padding:6px 8px; }
    #result .pill { display:inline-block; margin-right:6px; margin-top:6px; padding:4px 8px; border:1px solid #dbe7ff; border-radius:999px; background:#f0f5ff; }
    @media (max-width:720px){ .two { grid-template-columns:1fr; } }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <h1>Hot Health — One Port</h1>
        <nav class="btnbar">
          <a class="btn-secondary" href="/reports">Open All Reports</a>
          <form method="POST" action="/logout"><button class="btn-secondary" type="submit">Log out</button></form>
        </nav>
      </div>
    </header>

    <main>
      <section class="card">
        <h2>Patient & Contacts</h2>
        <div class="row">
          <div class="field">
            <input id="pName"  placeholder="Patient Name">
            <button class="mic-btn" data-target="pName">🎤</button>
          </div>
          <div class="field">
            <input id="pEmail" placeholder="Patient Email">
            <button class="mic-btn" data-target="pEmail">🎤</button>
          </div>
          <select id="blood" style="min-width:160px">
            <option value="">Blood Type</option>
            <option>O+</option><option>O-</option><option>A+</option><option>A-</option>
            <option>B+</option><option>B-</option><option>AB+</option><option>AB-</option>
          </select>
        </div>
        <div class="row">
          <div class="field">
            <input id="eName"  placeholder="Emergency Contact Name">
            <button class="mic-btn" data-target="eName">🎤</button>
          </div>
          <div class="field">
            <input id="ePhone" placeholder="Emergency Contact Phone">
            <button class="mic-btn" data-target="ePhone">🎤</button>
          </div>
          <div class="field">
            <input id="eEmail" placeholder="Emergency Contact Email">
            <button class="mic-btn" data-target="eEmail">🎤</button>
          </div>
        </div>
        <div class="row">
          <div class="field">
            <input id="dName"  placeholder="Doctor Name">
            <button class="mic-btn" data-target="dName">🎤</button>
          </div>
          <div class="field">
            <input id="dPhone" placeholder="Doctor Phone / Fax">
            <button class="mic-btn" data-target="dPhone">🎤</button>
          </div>
          <div class="field">
            <input id="dEmail" placeholder="Doctor Email">
            <button class="mic-btn" data-target="dEmail">🎤</button>
          </div>
        </div>
        <div class="row">
          <div class="field">
            <input id="phName"    placeholder="Pharmacy Name">
            <button class="mic-btn" data-target="phName">🎤</button>
          </div>
          <div class="field">
            <input id="phPhone"   placeholder="Pharmacy Phone">
            <button class="mic-btn" data-target="phPhone">🎤</button>
          </div>
          <div class="field">
            <input id="phFax"     placeholder="Pharmacy Fax">
            <button class="mic-btn" data-target="phFax">🎤</button>
          </div>
          <div class="field">
            <input id="phAddress" placeholder="Pharmacy Address">
            <button class="mic-btn" data-target="phAddress">🎤</button>
          </div>
        </div>
      </section>

      <section class="card">
        <h2>Record Health Status</h2>
        <div class="row">
          <select id="lang" style="min-width:220px">
            <option value="">— No translation at upload —</option>
            <option value="en">English</option><option value="fr">Français</option><option value="es">Español</option>
            <option value="pt">Português</option><option value="de">Deutsch</option><option value="it">Italiano</option>
            <option value="ar">العربية</option><option value="hi">हिन्दी</option><option value="zh">中文</option>
            <option value="ja">日本語</option><option value="ko">한국어</option>
            <option value="he">עברית</option><option value="sr">Srpski</option><option value="pa">ਪੰਜਾਬੀ</option>
          </select>
          <button id="btnRec">Record</button>
          <div id="recHint" class="muted">Tip: speak meds, allergies, conditions, BP, weight…</div>
        </div>
        <div id="recMeta" class="muted"></div>
        <div id="error" class="error"></div>
      </section>

      <section class="card">
        <h2>Shareable Report</h2>
        <div id="result" class="muted">Record and stop to generate a report + QR.</div>
        <div class="btnbar" id="shareBtns" style="display:none">
          <a id="openLink" class="btn-secondary" target="_blank" rel="noopener">🔗 Open</a>
          <button id="copyLink" class="btn-secondary">📋 Copy</button>
          <a id="gmailLink" class="btn-secondary" target="_blank">Gmail</a>
          <a id="outlookLink" class="btn-secondary" target="_blank">Outlook</a>
          <button id="printBtn" class="btn-secondary" onclick="window.print()">🖨️ Print</button>
        </div>
      </section>

      <section class="card two" id="dualSumm" style="display:none">
        <div>
          <h3>Summary (Original)</h3>
          <div id="sumOrig"></div>
        </div>
        <div>
          <h3>Summary (<span id="sumLang">Translated</span>)</h3>
          <div id="sumTrans"></div>
        </div>
      </section>
    </main>
  </div>

  <script src="/voice.js"></script>
  <script src="/app.js"></script>
</body>
</html>
