<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Caregiver Card</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="stylesheet" href="/styles.css"/>
</head>
<body>
  <div class="container">
    <header class="head">
      <h1>Caregiver Card</h1>
      <nav>
        <a class="btn" href="/journal" rel="noopener">Journal</a>
        <a class="btn" href="/reports" rel="noopener">Open Reports</a>
        <form method="POST" action="/logout" style="display:inline"><button class="btn" type="submit">Log out</button></form>
      </nav>
    </header>

    <section class="card">
      <h2>How To Use This App</h2>
      <ul class="tips">
        <li><b>Type or tap the mic</b> <span class="micico"></span> to speak into a field.</li>
        <li>For best accuracy, say the <b>label first</b>. Example: <i>“Patient name: Jane Doe”</i>, <i>“Patient email: jane at example dot com”</i>, <i>“Emergency contact phone: 415 555 0101”</i>.</li>
        <li>Or use the <b>free-speech recorder</b> to fill many fields at once.</li>
        <li>When done, press <b>Generate Report</b>.</li>
      </ul>
    </section>

    <section class="card">
      <h2>Language</h2>
      <div class="grid2">
        <div>
          <label class="lbl">Working language (detected)</label>
          <input id="langDetected" class="in" placeholder="Auto" readonly>
          <div id="langConfirmRow" class="row tiny" style="margin-top:6px; display:none;">
            <div id="langQuestion" class="muted"></div>
            <label style="margin-left:10px;"><input type="radio" name="langConfirm" value="yes"> Yes</label>
            <label style="margin-left:10px;"><input type="radio" name="langConfirm" value="no"> No</label>
          </div>
          <div class="tiny muted" id="langHint" style="margin-top:6px;"></div>
        </div>
        <div>
          <label class="lbl">Translate to</label>
          <select id="lang" class="in">
            <option value="">— No translation —</option>
            <option value="en">English</option><option value="fr">Français</option><option value="es">Español</option>
            <option value="pt">Português</option><option value="de">Deutsch</option><option value="it">Italiano</option>
            <option value="ar">العربية</option><option value="hi">हिन्दी</option><option value="zh">中文</option>
            <option value="ja">日本語</option><option value="ko">한국어</option>
            <option value="he">עברית</option><option value="sr">Srpski</option><option value="pa">ਪੰਜਾਬੀ</option>
          </select>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>Patient & Contact’s Info</h2>
      <div class="grid3">
        <div class="micwrap">
          <input id="pName" class="in" placeholder="Patient Name"/>
          <button class="mic-btn" title="Speak name" data-target="pName"></button>
        </div>
        <div class="micwrap">
          <input id="pEmail" class="in" placeholder="Patient Email"/>
          <button class="mic-btn" title="Speak email" data-target="pEmail"></button>
        </div>
        <div>
          <select id="blood" class="in">
            <option value="">Blood Type</option>
            <option>O+</option><option>O-</option><option>A+</option><option>A-</option>
            <option>B+</option><option>B-</option><option>AB+</option><option>AB-</option>
          </select>
        </div>

        <div class="micwrap">
          <input id="eName" class="in" placeholder="Emergency Contact Name"/>
          <button class="mic-btn" title="Speak" data-target="eName"></button>
        </div>
        <div class="micwrap">
          <input id="ePhone" class="in" placeholder="Emergency Contact Phone"/>
          <button class="mic-btn" title="Speak" data-target="ePhone"></button>
        </div>
        <div class="micwrap">
          <input id="eEmail" class="in" placeholder="Emergency Contact Email"/>
          <button class="mic-btn" title="Speak email" data-target="eEmail"></button>
        </div>
      </div>

      <div class="subhead">Doctor</div>
      <div class="grid3">
        <div class="micwrap">
          <input id="dName" class="in" placeholder="Doctor Name"/>
          <button class="mic-btn" title="Speak" data-target="dName"></button>
        </div>
        <div class="micwrap">
          <input id="dAddress" class="in" placeholder="Doctor Address"/>
          <button class="mic-btn" title="Speak" data-target="dAddress"></button>
        </div>
        <div class="grid2 span2">
          <div class="micwrap">
            <input id="dPhone" class="in" placeholder="Doctor Phone"/>
            <button class="mic-btn" title="Speak" data-target="dPhone"></button>
          </div>
          <div class="micwrap">
            <input id="dFax" class="in" placeholder="Doctor Fax"/>
            <button class="mic-btn" title="Speak" data-target="dFax"></button>
          </div>
          <div class="micwrap span2">
            <input id="dEmail" class="in" placeholder="Doctor Email"/>
            <button class="mic-btn" title="Speak email" data-target="dEmail"></button>
          </div>
        </div>
      </div>

      <div class="subhead">Pharmacy</div>
      <div class="grid3">
        <div class="micwrap">
          <input id="phName" class="in" placeholder="Pharmacy Name"/>
          <button class="mic-btn" title="Speak" data-target="phName"></button>
        </div>
        <div class="micwrap">
          <input id="phAddress" class="in" placeholder="Pharmacy Address"/>
          <button class="mic-btn" title="Speak" data-target="phAddress"></button>
        </div>
        <div class="grid2 span2">
          <div class="micwrap">
            <input id="phPhone" class="in" placeholder="Pharmacy Phone"/>
            <button class="mic-btn" title="Speak" data-target="phPhone"></button>
          </div>
          <div class="micwrap">
            <input id="phFax" class="in" placeholder="Pharmacy Fax"/>
            <button class="mic-btn" title="Speak" data-target="phFax"></button>
          </div>
        </div>
      </div>

      <div class="row" style="margin-top:10px">
        <button id="btnPrefillPatient" class="btn">Alternative: Patient & Contact’s Info — Free Speech Recording</button>
        <div id="prefillPatientMeta" class="muted tiny"></div>
      </div>
      <div id="prefillPatientErr" class="error"></div>
    </section>

    <section class="card">
      <h2>Patient Health Status</h2>
      <div class="grid2">
        <div class="micwrap">
          <input id="typed_bp" class="in" placeholder="Blood Pressure (e.g., 120/75)"/>
          <button class="mic-btn" title="Speak BP" data-target="typed_bp"></button>
        </div>
        <div class="micwrap">
          <input id="typed_weight" class="in" placeholder="Weight (lbs or kg)"/>
          <button class="mic-btn" title="Speak weight" data-target="typed_weight"></button>
        </div>
      </div>
      <div class="grid1">
        <div class="micwrap">
          <textarea id="typed_meds" class="in" rows="2" placeholder="Medications & dose"></textarea>
          <button class="mic-btn" title="Speak medications" data-target="typed_meds"></button>
        </div>
      </div>
      <div class="grid1">
        <div class="micwrap">
          <textarea id="typed_allergies" class="in" rows="2" placeholder="Allergies"></textarea>
          <button class="mic-btn" title="Speak allergies" data-target="typed_allergies"></button>
        </div>
      </div>
      <div class="grid1">
        <div class="micwrap">
          <textarea id="typed_conditions" class="in" rows="2" placeholder="Conditions"></textarea>
          <button class="mic-btn" title="Speak conditions" data-target="typed_conditions"></button>
        </div>
      </div>

      <div class="row" style="margin-top:10px">
        <button id="btnPrefillStatus" class="btn">Alternative: Patient Health Status — Free Speech Recording</button>
        <div id="prefillStatusMeta" class="muted tiny"></div>
      </div>
      <div id="prefillStatusErr" class="error"></div>
    </section>

    <section class="card">
      <h2>General Health Note</h2>
      <p class="muted tiny">Tip: journal health information as it happens. This can be summarized into a special report.</p>
      <div class="grid1">
        <div class="micwrap">
          <textarea id="journalText" class="in" rows="3" placeholder="Type a note or use the mic to dictate it"></textarea>
          <button class="mic-btn" title="Speak note" data-target="journalText"></button>
        </div>
      </div>
      <div class="row">
        <button id="btnJournalSave" class="btn">Save Journal Note</button>
        <a class="btn" href="/journal/report" target="_blank" rel="noopener">Generate Journal Report</a>
        <div id="journalMeta" class="muted tiny"></div>
      </div>
      <div id="journalErr" class="error"></div>
    </section>

    <section class="card">
      <h2>Reporting</h2>
      <div class="bar">
        <button id="btnGenerate" class="btn">Generate Report</button>
      </div>
      <div id="result" class="result"></div>
      <div id="error" class="error"></div>
    </section>
  </div>

  <script src="/app.js"></script>
</body>
</html>
